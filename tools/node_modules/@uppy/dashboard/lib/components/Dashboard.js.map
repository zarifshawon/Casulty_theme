{"version":3,"sources":["Dashboard.js"],"names":["FileList","require","AddFiles","AddFilesPanel","PickerPanelContent","EditorPanel","PanelTopBar","FileCard","Slide","classNames","isDragDropSupported","h","WIDTH_XL","WIDTH_LG","WIDTH_MD","HEIGHT_MD","module","exports","Dashboard","props","noFiles","totalFileCount","isSizeMD","containerWidth","wrapperClassName","isTargetDOMEl","dashboardClassName","disabled","animateOpenClose","isClosing","isDraggingOver","inline","containerHeight","showAddFilesPanel","areInsidesReadyToBeVisible","itemsPerRow","showFileList","showSelectedFiles","dashboard","theme","acquirers","length","isHidden","i18n","handlePaste","handleDragOver","handleDragLeave","handleDrop","handleClickOutside","width","height","closeModal","fileCardFor","activePickerPanel","showFileEditor","progressindicators","map","target","getPlugin","id","render","state","direction"],"mappings":"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","sourcesContent":["const FileList = require('./FileList')\nconst AddFiles = require('./AddFiles')\nconst AddFilesPanel = require('./AddFilesPanel')\nconst PickerPanelContent = require('./PickerPanelContent')\nconst EditorPanel = require('./EditorPanel')\nconst PanelTopBar = require('./PickerPanelTopBar')\nconst FileCard = require('./FileCard')\nconst Slide = require('./Slide')\nconst classNames = require('classnames')\nconst isDragDropSupported = require('@uppy/utils/lib/isDragDropSupported')\nconst { h } = require('preact')\n\n// http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nconst WIDTH_XL = 900\nconst WIDTH_LG = 700\nconst WIDTH_MD = 576\nconst HEIGHT_MD = 400\n\nmodule.exports = function Dashboard (props) {\n  const noFiles = props.totalFileCount === 0\n  const isSizeMD = props.containerWidth > WIDTH_MD\n\n  const wrapperClassName = classNames({\n    'uppy-Root': props.isTargetDOMEl\n  })\n\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--isDisabled': props.disabled,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible\n  })\n\n  // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n  let itemsPerRow = 1 // mobile\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3\n  }\n\n  const showFileList = props.showSelectedFiles && !noFiles\n\n  const dashboard = (\n    <div\n      class={dashboardClassName}\n      data-uppy-theme={props.theme}\n      data-uppy-num-acquirers={props.acquirers.length}\n      data-uppy-drag-drop-supported={isDragDropSupported()}\n      aria-hidden={props.inline ? 'false' : props.isHidden}\n      aria-disabled={props.disabled}\n      aria-label={!props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle')}\n      onpaste={props.handlePaste}\n      onDragOver={props.handleDragOver}\n      onDragLeave={props.handleDragLeave}\n      onDrop={props.handleDrop}\n    >\n      <div\n        class=\"uppy-Dashboard-overlay\"\n        tabindex={-1}\n        onclick={props.handleClickOutside}\n      />\n\n      <div\n        class=\"uppy-Dashboard-inner\"\n        aria-modal={!props.inline && 'true'}\n        role={!props.inline && 'dialog'}\n        style={{\n          width: props.inline && props.width ? props.width : '',\n          height: props.inline && props.height ? props.height : ''\n        }}\n      >\n\n        {!props.inline ? (\n          <button\n            class=\"uppy-u-reset uppy-Dashboard-close\"\n            type=\"button\"\n            aria-label={props.i18n('closeModal')}\n            title={props.i18n('closeModal')}\n            onclick={props.closeModal}\n          >\n            <span aria-hidden=\"true\">&times;</span>\n          </button>\n        ) : null}\n\n        <div class=\"uppy-Dashboard-innerWrap\">\n          <div class=\"uppy-Dashboard-dropFilesHereHint\">\n            {props.i18n('dropHint')}\n          </div>\n\n          {showFileList && <PanelTopBar {...props} />}\n\n          {showFileList ? (\n            <FileList\n              {...props}\n              itemsPerRow={itemsPerRow}\n            />\n          ) : (\n            <AddFiles {...props} isSizeMD={isSizeMD} />\n          )}\n\n          <Slide>\n            {props.showAddFilesPanel ? <AddFilesPanel key=\"AddFiles\" {...props} isSizeMD={isSizeMD} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.fileCardFor ? <FileCard key=\"FileCard\" {...props} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.activePickerPanel ? <PickerPanelContent key=\"Picker\" {...props} /> : null}\n          </Slide>\n\n          <Slide>\n            {props.showFileEditor ? <EditorPanel key=\"Editor\" {...props} /> : null}\n          </Slide>\n\n          <div class=\"uppy-Dashboard-progressindicators\">\n            {props.progressindicators.map((target) => {\n              return props.getPlugin(target.id).render(props.state)\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  return (\n    // Wrap it for RTL language support\n    <div class={wrapperClassName} dir={props.direction}>\n      {dashboard}\n    </div>\n  )\n}\n"]}